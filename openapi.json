{
  "openapi": "3.0.0",
  "info": {
    "title": "SquadUtils.org API",
    "version": "3.0.0",
    "description": "API documentation for SquadUtils.org"
  },
  "servers": [
    {
      "url": "/",
      "description": "Any server"
    }
  ],
  "paths": {
    "/api/v1/allowedMatchups": {
      "get": {
        "tags": [
          "Team Information"
        ],
        "summary": "Get allowed matchups of faction on given map",
        "description": "Returns a list of factions that can be matched against the specified faction on the given layer and team",
        "parameters": [
          {
            "in": "query",
            "name": "layerName",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Name of the layer including gamemode and version",
            "example": "AlBasrah_AAS_v1"
          },
          {
            "in": "query",
            "name": "teamId",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/TeamId"
            }
          },
          {
            "in": "query",
            "name": "factionName",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Faction"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response containing allowed faction matchups",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AllowedMatchupsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing required parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the missing parameter",
                      "example": "Missing required parameter: layerName"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Layer or faction not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the resource that was not found",
                      "example": "No information found for layer AlBasrah_AAS_v1 and faction BAF"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the internal server error",
                      "example": "Internal server error while processing allowed matchups"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/gameVersion": {
      "get": {
        "tags": [
          "Game Information"
        ],
        "summary": "Retrieve supported game version",
        "description": "Retrieves the latest supported Squad game version",
        "responses": {
          "200": {
            "description": "Successfully retrieved game version",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "description": "The latest supported game version",
                  "example": "v8.1.2"
                }
              }
            }
          },
          "404": {
            "description": "Game version information not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Latest supported game version not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Internal server error while processing game version information"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/layerInformation": {
      "get": {
        "tags": [
          "Layer Information"
        ],
        "summary": "Get layer information",
        "description": "Retrieves information about all available layers and their supported game modes and versions",
        "parameters": [
          {
            "in": "query",
            "name": "withTeamInfo",
            "required": false,
            "schema": {
              "type": "boolean"
            },
            "description": "Include detailed team and faction information",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved layer information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "oneOf": [
                      {
                        "$ref": "#/components/schemas/MapInformation"
                      },
                      {
                        "$ref": "#/components/schemas/MapInformationWithTeams"
                      }
                    ]
                  }
                },
                "example": {
                  "AlBasrah": {
                    "name": "Al Basrah",
                    "timeOfDay": "Daytime",
                    "availableGameModes": [
                      {
                        "name": "AAS",
                        "version": "v1",
                        "mapSize": "Large",
                        "mapSizeInKm": "3.0x3.0 km"
                      }
                    ]
                  }
                }
              }
            }
          },
          "404": {
            "description": "No layer information found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "No layer information found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Internal server error while processing layer information"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teamInformation": {
      "get": {
        "tags": [
          "Team Information"
        ],
        "summary": "Get team information for specific layer",
        "description": "Retrieves available factions and their unit types for specified teams in a layer",
        "deprecated": true,
        "parameters": [
          {
            "in": "query",
            "name": "layerId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The ID of the layer including gamemode and version",
            "example": "Fallujah_AAS_v1"
          },
          {
            "in": "query",
            "name": "teamId",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/TeamId"
            },
            "description": "Optional team ID to filter results. If omitted, returns information for both teams."
          },
          {
            "in": "query",
            "name": "includeDefaultFactions",
            "required": false,
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to include default factions for the layer. Defaults to false.",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved team information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "name",
                    "gameMode",
                    "version",
                    "teams"
                  ],
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "Name of the map",
                      "example": "Fallujah"
                    },
                    "gameMode": {
                      "$ref": "#/components/schemas/GameMode/properties/name"
                    },
                    "version": {
                      "$ref": "#/components/schemas/GameMode/properties/version"
                    },
                    "defaultFactions": {
                      "type": "object",
                      "properties": {
                        "1": {
                          "$ref": "#/components/schemas/DefaultFactionInformation"
                        },
                        "2": {
                          "$ref": "#/components/schemas/DefaultFactionInformation"
                        }
                      }
                    },
                    "teams": {
                      "type": "object",
                      "properties": {
                        "1": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TeamFaction"
                          }
                        },
                        "2": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TeamFaction"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the missing parameter",
                      "example": "Missing required parameter: layerId"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Layer not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the resource that was not found",
                      "example": "No information found for layer Fallujah_Invasion_v2"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the internal server error",
                      "example": "Internal server error while processing team information"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/unitAssets": {
      "get": {
        "tags": [
          "Unit Information"
        ],
        "summary": "Get assets of given unit",
        "description": "Retrieves available assets (vehicles) for a specific unit",
        "parameters": [
          {
            "in": "query",
            "name": "unitName",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The full name of the unit.",
            "example": "BAF_LO_CombinedArms"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved unit assets",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnitAssetsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Missing required parameter",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the missing parameter",
                      "example": "Missing required parameter: unitName"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the internal server error",
                      "example": "Internal server error: Layer list parser initialization failed"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/unitNames": {
      "get": {
        "tags": [
          "Unit Information"
        ],
        "summary": "Get all unit names of a given faction",
        "description": "Retrieves available unit names for a specific faction",
        "parameters": [
          {
            "in": "query",
            "name": "factionName",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Faction"
            },
            "description": "The name of the faction to get unit names for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved unit names",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UnitNamesResponse"
                }
              }
            }
          },
          "400": {
            "description": "Missing required parameter",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Missing required parameter: factionName"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Faction not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "No unit names found for faction MEA"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Internal server error while processing unit names"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/parse": {
      "post": {
        "tags": [
          "Parser"
        ],
        "summary": "Parse a given rotation string",
        "description": "Takes a multi-line Squad rotation string and parses each line into a structured format. Each line should contain map name, game mode, version, and optionally two factions.",
        "deprecated": true,
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "rotation"
                ],
                "properties": {
                  "rotation": {
                    "type": "string",
                    "description": "Multi-line string containing the Squad rotation to be parsed",
                    "example": "Harju_AAS_v1 USA RGF\nYehorivka_RAAS_v1 USA RGF\nBlackCoast_Invasion_v1 USMC WPMC\n"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Rotation parsed successfully (includes errors)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParseResponse"
                },
                "example": {
                  "parsedRotation": [
                    {
                      "map": {
                        "name": "Harju",
                        "gameMode": "AAS",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USA"
                      },
                      "factionTwo": {
                        "faction": "RGF"
                      }
                    },
                    {
                      "map": {
                        "name": "Yehorivka",
                        "gameMode": "RAAS",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USA"
                      },
                      "factionTwo": {
                        "faction": "RGF"
                      }
                    },
                    {
                      "map": {
                        "name": "BlackCoast",
                        "gameMode": "Invasion",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USMC"
                      },
                      "factionTwo": {
                        "faction": "WPMC"
                      }
                    }
                  ],
                  "errors": [],
                  "totalLines": 3,
                  "successfullyParsed": 3,
                  "skippedParsing": 0,
                  "failedToParse": 0
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "Error message describing the validation failure",
                      "example": "Invalid or missing rotation parameter"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "Error message",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/teamInformation": {
      "get": {
        "tags": [
          "Team Information"
        ],
        "summary": "Get team information for specific layer",
        "description": "Retrieves available factions and their unit types for specified teams in a layer; this endpoint also includes time of day and map size in km",
        "parameters": [
          {
            "in": "query",
            "name": "layerId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "The ID of the layer including gamemode and version",
            "example": "Fallujah_AAS_v1"
          },
          {
            "in": "query",
            "name": "teamId",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/TeamId"
            },
            "description": "Optional team ID to filter results. If omitted, returns information for both teams."
          },
          {
            "in": "query",
            "name": "includeDefaultFactions",
            "required": false,
            "schema": {
              "type": "boolean"
            },
            "description": "Whether to include default factions for the layer. Defaults to false.",
            "example": true
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved team information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "name",
                    "gameMode",
                    "version",
                    "timeOfDay",
                    "mapSize",
                    "mapSizeInKm",
                    "availableFactions"
                  ],
                  "properties": {
                    "name": {
                      "$ref": "#/components/schemas/MapInformation/properties/name"
                    },
                    "gameMode": {
                      "$ref": "#/components/schemas/GameMode/properties/name"
                    },
                    "version": {
                      "$ref": "#/components/schemas/GameMode/properties/version"
                    },
                    "timeOfDay": {
                      "$ref": "#/components/schemas/MapInformation/properties/timeOfDay"
                    },
                    "mapSize": {
                      "$ref": "#/components/schemas/GameMode/properties/mapSize"
                    },
                    "mapSizeInKm": {
                      "$ref": "#/components/schemas/GameMode/properties/mapSizeInKm"
                    },
                    "defaultFactions": {
                      "type": "object",
                      "properties": {
                        "1": {
                          "$ref": "#/components/schemas/DefaultFactionInformation"
                        },
                        "2": {
                          "$ref": "#/components/schemas/DefaultFactionInformation"
                        }
                      }
                    },
                    "availableFactions": {
                      "type": "object",
                      "properties": {
                        "1": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TeamFaction"
                          }
                        },
                        "2": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/TeamFaction"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing or invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the missing parameter",
                      "example": "Missing required parameter: layerId"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Layer not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the resource that was not found",
                      "example": "No information found for layer Fallujah_Invasion_v2"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "message"
                  ],
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "Error message describing the internal server error",
                      "example": "Internal server error while processing team information"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/parse": {
      "post": {
        "tags": [
          "Parser"
        ],
        "summary": "Parse a given rotation string",
        "description": "Takes a multi-line Squad rotation string and parses each line into a structured format. Each line should contain map name, game mode, version, and optionally two factions. Returns different status codes based on parsing success.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "rotation"
                ],
                "properties": {
                  "rotation": {
                    "type": "string",
                    "description": "Multi-line string containing the Squad rotation to be parsed",
                    "example": "Harju_AAS_v1 USA RGF\nYehorivka_RAAS_v1 USA RGF\nBlackCoast_Invasion_v1 USMC WPMC"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Rotation parsed successfully with no errors",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ParseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "errors": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ParsingErrorV3"
                          }
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "parsedRotation": [
                    {
                      "map": {
                        "name": "Harju",
                        "gameMode": "AAS",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USA"
                      },
                      "factionTwo": {
                        "faction": "RGF"
                      }
                    },
                    {
                      "map": {
                        "name": "Yehorivka",
                        "gameMode": "RAAS",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USA"
                      },
                      "factionTwo": {
                        "faction": "RGF"
                      }
                    },
                    {
                      "map": {
                        "name": "BlackCoast",
                        "gameMode": "Invasion",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USMC"
                      },
                      "factionTwo": {
                        "faction": "WPMC"
                      }
                    }
                  ],
                  "errors": [],
                  "totalLines": 3,
                  "successfullyParsed": 3,
                  "skippedParsing": 0,
                  "failedToParse": 0
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "Error message describing the validation failure",
                      "example": "Invalid or missing rotation parameter"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Rotation was partially parsed but contained errors",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/ParseResponse"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "errors": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/ParsingErrorV3"
                          }
                        }
                      }
                    }
                  ]
                },
                "example": {
                  "parsedRotation": [
                    {
                      "map": {
                        "name": "Harju",
                        "gameMode": "AAS",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USA"
                      },
                      "factionTwo": {
                        "faction": "RGF"
                      }
                    },
                    {
                      "map": {
                        "name": "Yehorivka",
                        "gameMode": "RAAS",
                        "version": "v1"
                      },
                      "factionOne": {
                        "faction": "USA"
                      },
                      "factionTwo": {
                        "faction": "RGF"
                      }
                    }
                  ],
                  "errors": [
                    {
                      "line": 3,
                      "content": "BlackCoast_Invasion_v1 USMC WPMC+AirAssault",
                      "error": "Unit type AirAssault is not allowed for Faction WPMC on Team 2. Available unit types: CombinedArms, Armored, LightInfantry, Motorized, Support, Mechanized.",
                      "key": "UNIT_TYPE_NOT_ALLOWED"
                    }
                  ],
                  "totalLines": 3,
                  "successfullyParsed": 2,
                  "skippedParsing": 0,
                  "failedToParse": 1
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "Error message",
                      "example": "Internal server error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Faction": {
        "type": "string",
        "enum": [
          "ADF",
          "BAF",
          "CAF",
          "USA",
          "USMC",
          "IMF",
          "INS",
          "MEA",
          "TLF",
          "WPMC",
          "PLA",
          "PLAAGF",
          "PLANMC",
          "RGF",
          "VDV"
        ],
        "example": "MEA"
      },
      "TeamId": {
        "type": "string",
        "enum": [
          "1",
          "2"
        ],
        "example": "1"
      },
      "GameMode": {
        "type": "object",
        "required": [
          "name",
          "version",
          "mapSize"
        ],
        "properties": {
          "name": {
            "type": "string",
            "enum": [
              "AAS",
              "RAAS",
              "Invasion",
              "Insurgency",
              "Destruction",
              "Skirmish",
              "TerritoryControl",
              "TC",
              "Seed",
              "Training"
            ],
            "example": "AAS"
          },
          "version": {
            "type": "string",
            "pattern": "^v[1-9]$",
            "example": "v1"
          },
          "mapSize": {
            "type": "string",
            "enum": [
              "Small",
              "Medium",
              "Large"
            ],
            "example": "Large"
          },
          "mapSizeInKm": {
            "type": "string",
            "example": "3.2x3.2 km"
          }
        }
      },
      "UnitType": {
        "type": "object",
        "required": [
          "key",
          "prettyName",
          "fullUnitName"
        ],
        "properties": {
          "key": {
            "type": "string",
            "enum": [
              "AirAssault",
              "Armored",
              "CombinedArms",
              "LightInfantry",
              "Mechanized",
              "Motorized",
              "Support",
              "AmphibiousAssault"
            ],
            "example": "CombinedArms"
          },
          "prettyName": {
            "type": "string",
            "example": "Combined Arms"
          },
          "fullUnitName": {
            "type": "string",
            "example": "BAF_LO_CombinedArms"
          }
        }
      },
      "Asset": {
        "type": "object",
        "required": [
          "name",
          "mapIcon",
          "vehicleCount",
          "initialSpawnDelay",
          "respawnTimer",
          "vehicleType"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "HX60 Transport"
          },
          "mapIcon": {
            "type": "string",
            "enum": [
              "map_truck_transport",
              "map_truck_logistics",
              "map_jeep",
              "map_jeep_turret",
              "map_trackedifv",
              "map_tank",
              "map_transporthelo"
            ],
            "example": "map_truck_transport"
          },
          "vehicleCount": {
            "type": "integer",
            "minimum": 0,
            "example": 3
          },
          "initialSpawnDelay": {
            "type": "integer",
            "minimum": 0,
            "example": 6
          },
          "respawnTimer": {
            "type": "integer",
            "minimum": 0,
            "example": 3
          },
          "vehicleType": {
            "type": "string",
            "enum": [
              "TRAN",
              "LOGI",
              "MRAP",
              "IFV",
              "MBT",
              "UH"
            ],
            "example": "TRAN"
          }
        }
      },
      "MapInfo": {
        "type": "object",
        "required": [
          "name",
          "gameMode",
          "version"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the map",
            "example": "Harju"
          },
          "gameMode": {
            "$ref": "#/components/schemas/GameMode/properties/name"
          },
          "version": {
            "$ref": "#/components/schemas/GameMode/properties/version"
          }
        }
      },
      "FactionInfo": {
        "type": "object",
        "required": [
          "faction"
        ],
        "properties": {
          "faction": {
            "$ref": "#/components/schemas/Faction"
          }
        }
      },
      "TeamFaction": {
        "type": "object",
        "required": [
          "name",
          "allowedUnitTypes"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Faction identifier",
            "example": "ADF"
          },
          "allowedUnitTypes": {
            "type": "array",
            "description": "List of unit types available for this faction",
            "items": {
              "$ref": "#/components/schemas/UnitType"
            }
          }
        }
      },
      "DefaultFactionInformation": {
        "type": "object",
        "required": [
          "factionName",
          "unitType"
        ],
        "properties": {
          "factionName": {
            "$ref": "#/components/schemas/Faction"
          },
          "unitType": {
            "$ref": "#/components/schemas/UnitType"
          }
        }
      },
      "MapInformation": {
        "type": "object",
        "required": [
          "name",
          "availableGameModes"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Al Basrah"
          },
          "timeOfDay": {
            "type": "string",
            "example": "Daytime"
          },
          "availableGameModes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/GameMode"
            }
          }
        }
      },
      "MapInformationWithTeams": {
        "allOf": [
          {
            "$ref": "#/components/schemas/MapInformation"
          },
          {
            "type": "object",
            "required": [
              "defaultFactions",
              "availableFactions"
            ],
            "properties": {
              "defaultFactions": {
                "type": "object",
                "properties": {
                  "1": {
                    "$ref": "#/components/schemas/DefaultFactionInformation"
                  },
                  "2": {
                    "$ref": "#/components/schemas/DefaultFactionInformation"
                  }
                }
              },
              "availableFactions": {
                "type": "object",
                "properties": {
                  "1": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/TeamFaction"
                    }
                  },
                  "2": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/TeamFaction"
                    }
                  }
                }
              }
            }
          }
        ]
      },
      "RotationEntry": {
        "type": "object",
        "required": [
          "map"
        ],
        "properties": {
          "map": {
            "$ref": "#/components/schemas/MapInfo"
          },
          "factionOne": {
            "$ref": "#/components/schemas/FactionInfo"
          },
          "factionTwo": {
            "$ref": "#/components/schemas/FactionInfo"
          }
        }
      },
      "ParsingErrorV2": {
        "type": "object",
        "required": [
          "line",
          "content",
          "error"
        ],
        "properties": {
          "line": {
            "type": "integer",
            "description": "Line number where the error occurred",
            "example": 3
          },
          "content": {
            "type": "string",
            "description": "The content of the line that failed to parse",
            "example": "BlackCoast_Invasion_v1 USMC WPMC+AirAssault"
          },
          "error": {
            "type": "string",
            "description": "Detailed error message explaining the parsing failure",
            "example": "Unit type AirAssault is not allowed for Faction WPMC on Team 2. Available unit types: CombinedArms, Armored, LightInfantry, Motorized, Support, Mechanized."
          }
        }
      },
      "ParsingErrorV3": {
        "type": "object",
        "required": [
          "line",
          "content",
          "error",
          "key"
        ],
        "properties": {
          "line": {
            "type": "integer",
            "description": "Line number where the error occurred",
            "example": 3
          },
          "content": {
            "type": "string",
            "description": "The content of the line that failed to parse",
            "example": "BlackCoast_Invasion_v1 USMC WPMC+AirAssault"
          },
          "error": {
            "type": "string",
            "description": "Detailed error message explaining the parsing failure",
            "example": "Unit type AirAssault is not allowed for Faction WPMC on Team 2. Available unit types: CombinedArms, Armored, LightInfantry, Motorized, Support, Mechanized."
          },
          "key": {
            "type": "string",
            "description": "Error key for programmatic error handling",
            "example": "UNIT_TYPE_NOT_ALLOWED"
          }
        }
      },
      "ParseResponse": {
        "type": "object",
        "required": [
          "parsedRotation",
          "errors",
          "totalLines",
          "successfullyParsed",
          "skippedParsing",
          "failedToParse"
        ],
        "properties": {
          "parsedRotation": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RotationEntry"
            }
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ParsingErrorV2"
            }
          },
          "totalLines": {
            "type": "integer",
            "description": "Total number of non-empty lines in the input",
            "example": 3
          },
          "successfullyParsed": {
            "type": "integer",
            "description": "Number of lines successfully parsed",
            "example": 3
          },
          "skippedParsing": {
            "type": "integer",
            "description": "Number of lines skipped during parsing",
            "example": 0
          },
          "failedToParse": {
            "type": "integer",
            "description": "Number of lines that failed to parse",
            "example": 0
          }
        }
      },
      "SuccessfulParseResponseV2": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ParseResponse"
          },
          {
            "type": "object",
            "properties": {
              "errors": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ParsingErrorV2"
                }
              }
            }
          }
        ]
      },
      "SuccessfulParseResponseV3": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ParseResponse"
          },
          {
            "type": "object",
            "properties": {
              "errors": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ParsingErrorV3"
                }
              }
            }
          }
        ]
      },
      "PartialParseResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ParseResponse"
          },
          {
            "type": "object",
            "properties": {
              "errors": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ParsingErrorV3"
                }
              }
            }
          }
        ]
      },
      "UnitNames": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "List of unit names available for a faction",
        "example": [
          "MEA_LO_CombinedArms",
          "MEA_LD_CombinedArms",
          "MEA_S_CombinedArms_Seed",
          "MEA_S_CombinedArms",
          "MEA_MO_CombinedArms",
          "MEA_MD_CombinedArms",
          "MEA_LO_CombinedArms-NoHeli",
          "MEA_LD_CombinedArms-NoHeli",
          "FSTemplate_MEA",
          "MEA_LO_Support",
          "MEA_LO_Mechanized",
          "MEA_LO_LightInfantry",
          "MEA_LO_Armored",
          "MEA_LO_AirAssault",
          "MEA_LD_Support",
          "MEA_LD_Mechanized",
          "MEA_LD_LightInfantry",
          "MEA_LD_Armored",
          "MEA_LO_Support-NoHeli",
          "MEA_LO_Mechanized-NoHeli",
          "MEA_LO_LightInfantry-NoHeli",
          "MEA_LD_Support-NoHeli",
          "MEA_LD_Mechanized-NoHeli",
          "MEA_LD_LightInfantry-NoHeli"
        ]
      },
      "UnitNamesResponse": {
        "type": "object",
        "required": [
          "MEA"
        ],
        "properties": {
          "MEA": {
            "$ref": "#/components/schemas/UnitNames"
          }
        }
      },
      "UnitAssetsResponse": {
        "type": "object",
        "required": [
          "unitName",
          "assets"
        ],
        "properties": {
          "unitName": {
            "type": "string",
            "example": "BAF_LO_CombinedArms"
          },
          "assets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Asset"
            }
          }
        }
      },
      "AllowedMatchupsResponse": {
        "type": "object",
        "required": [
          "layerName",
          "teamId",
          "factionName",
          "allowedMatchups"
        ],
        "properties": {
          "layerName": {
            "type": "string",
            "description": "The layer name that was queried",
            "example": "AlBasrah_AAS_v1"
          },
          "teamId": {
            "$ref": "#/components/schemas/TeamId"
          },
          "factionName": {
            "$ref": "#/components/schemas/Faction"
          },
          "allowedMatchups": {
            "type": "array",
            "description": "List of faction names that can be matched against the specified faction",
            "items": {
              "$ref": "#/components/schemas/Faction"
            },
            "example": [
              "INS",
              "MEA",
              "PLA",
              "RGF",
              "VDV",
              "PLANMC",
              "PLAAGF",
              "TLF",
              "WPMC"
            ]
          }
        }
      },
      "LayerInformationResponse": {
        "type": "object",
        "additionalProperties": {
          "oneOf": [
            {
              "$ref": "#/components/schemas/MapInformation"
            },
            {
              "$ref": "#/components/schemas/MapInformationWithTeams"
            }
          ]
        }
      },
      "RotationRequest": {
        "type": "object",
        "required": [
          "rotation"
        ],
        "properties": {
          "rotation": {
            "type": "string",
            "description": "Multi-line string containing the Squad rotation to be parsed",
            "example": "Harju_AAS_v1 USA RGF\n"
          }
        }
      }
    }
  },
  "tags": []
}